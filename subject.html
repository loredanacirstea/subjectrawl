<head>
  <title>Subject</title>
  <script type="text/javascript" src="/tinymce/tinymce.min.js"></script>
</head>
<body>
</body>

<template name="subject">
</template>

<template name="jstree">
    <div id="jstree"></div>
    <div id="results"></div>
</template>

<template name="tools">
  <div id="tool_tabs"></div>
  <div class="flex" id="nav_drop"></div>
  <div class="flex" id="choose_output"></div>
  <div id="text_drop"></div>
  <div class="flex" id="tags_tool"></div>
  <div class="middle">
    <div class="flex" id="search_tool"></div>
    <div id="tiny_editor"></div>
  </div>
  {{> help}}
</template>
<template name="choose_output">
  <div class="ui blue buttons">
    <div class="ui button">value</div>
    <div class="ui top right pointing dropdown icon button" id="choose_output_dropdown">
      <i class="dropdown icon"></i>
      <div class="menu">
        <div class="item">value</div>
        <div class="item">official id</div>
        <div class="item">uuid</div>
      </div>
    </div>
  </div>
</template>

<template name="search_simple_dropdown">
  <div class="ui floating dropdown labeled search icon button" id="search_simple_dropdown">
    <i class="search icon"></i>
    <span class="text">Search subjects...</span>
    <div class="menu">
      {{#each subjects}}
        <div class="item" data-id="{{choose this.uuid this.id}}" data-value="{{this.name}}" data-child="{{this.haschildren}}">{{this.name}}
        </div>
      {{/each}}
    </div>
  </div>
</template>

<template name="tags_tool">
  <div class="flex">
    <div class="ui compact raised segment" id="tags_segment">
      <div class="tags_content">
        <i class="big blue tags icon"></i>
        <div class="tags" id="tags"></div>
        <input type="hidden" id="tags_uuids">
      </div>
      &nbsp;
      <div class="ui search">
        <div class="ui icon input">
            <i class="search icon"></i>
            <input class="prompt" type="text" placeholder="Search subjects...">
        </div>
        <div class="results"></div>
      </div>
    </div>
  </div>
</template>
<template name="add_text_button">
  <div class="ui icon blue button">
    <i class="arrow circle outline down icon"></i>
  </div>
</template>
<template name="view_source_button">
  <div class="ui icon blue button">
    <i class="code icon"></i>
  </div>
</template>

<template name="input">
   <div class="flex">
     <div class="ui input">
      <input type={{text_type}} id={{text_id}} placeholder={{placeholder}} >
      <input type="hidden" id={{hidden_id}}>
    </div>
    <div class="buttons" id={{buttons_id}}>
      {{> add_text_button}}
      {{> view_source_button}}
    </div>
  </div>
</template>

<template name="tiny_editor">
    <form method="post" action="somepage">
        <textarea name="content" id="content" style="width:100%"><p>The <span class="T 4297" style="font-weight: bold;">Femoral artery</span> is a large <span class="T 3527" style="font-weight: bold;">Artery</span> in the <span class="T 82" style="font-weight: bold;">Thigh</span>. It is a continuation of the <span class="T 4289" style="font-weight: bold;">External iliac artery</span> and begins at the <span class="T 1885" style="font-weight: bold;">Inguinal canal</span>.</p></textarea>
    </form>
    <div id="lab"></div>
    <div class="explanation">
      <p>
        Insert controlled vocabulary terms using Insert/Controlled Phrase menu.
      </p>
      <p>
        <a href="#" onclick="check('en', true)">Check</a> correctiveness. <a href="#" onclick="check('en',false)">Update</a> terms. <a href="#" onclick="check('la',false)">Translate</a> terms in Latin (or any other provided language). <a href="#" onclick="check('en',false,true)">Show</a> refs. <a href="#" onclick="blend()">Blend</a> in text. <a href="#" onclick="bold()">Bold</a> the terms. 
      </p>
    </div>
</template>

<template name="ontologies">
  <div class="container"> 
    <div id="onto_drop"></div>
    <div id="tree"></div>
  </div>
  {{> help}}
</template>

<template name="tab">
  <div id="context1">
    <div class="ui top attached tabular menu">
        <a class="active item" id="transl_tab" data-tab="transl" data-content="Subject Info"><img class="img_apps_first" src="icons/info.png" /></a>
        <a class="item" id="search_tab" data-tab="search" data-content="Search Tools"><img class="img_apps_first" src="icons/search.png" /></a>
        <a class="item" id="tools_tab" data-tab="tools" data-content="Subject Plugins"><img class="img_apps_first" src="icons/plugin.png" /></a>
    </div>
    <div class="ui bottom attached active tab segment" id="transl_content" data-tab="transl"></div>
    <div class="ui bottom attached tab segment" id="search_content" data-tab="search"></div>
    <div class="ui bottom attached tab segment" id="tools_content" data-tab="tools"></div>
  </div>
</template>

<template name="help">
  <div id="help">
    <a target="_blank" href="https://github.com/loredanacirstea/subjectrawl/wiki">
      <i class="circular large info icon"></i>
    </a>
    <a target="_blank" href="https://github.com/loredanacirstea/subjectrawl">
      <i class="circular large github icon"></i>
    </a>
  </div>
</template>

<template name="khron_drop">
  {{>  Template.dynamic template="dropdown" data=drop }}
</template> 


<template name="dropdown">
  {{log this.dropdown_id}}
  <div class="ui dropdown button link" id={{this.dropdown_id}}>
      {{>  Template.dynamic template="dropdownSec" data=this}}
    </div>
</template>

<template name="dropdownSec">
    <img src={{this.icon}}>
    <span class="text">
        {{#each this.name}}
          {{{this}}}
          {{/each}}
    </span>
    <i class="dropdown icon"></i>
    <div class="menu">
      {{#each this.children}} 
          {{>  Template.dynamic template="kidsItems" data=this}}
      {{/each}}
    </div>
</template>

<template name="kidsItems">
    <div class="item" data-uuid="{{choose this.uuid_subject this.uuid}}" data-lang="{{this.lang}}" data-child="{{this.haschildren}}">
      {{#if this.children}}
        {{>  Template.dynamic template="dropdownSec" data=this}}
      {{else}}
        <img src={{this.flag}}>
        {{this.name}}
      {{/if}}
    </div>
</template>


<template name="coll">
  <a class="ui tag label">Tag</a>
  -><br>
  {{#each colls}} 
              -{{>  Template.dynamic template="coll2" this=item}}<br>
  {{/each}}
</template>

<template name="coll2">
  {{this.db}}
</template>

<template name="search_tree_dropdown">
  {{log drop}}
  {{>  Template.dynamic template="search_dropdown" data=drop }}
</template> 


<template name="search_dropdown">
  {{log this}}
  {{log this.dropdown_id}}
  <div class="ui dropdown labeled search icon button" id={{this.dropdown_id}}>
      {{>  Template.dynamic template="search_dropdownSec" data=this}}
    </div>
</template>

<template name="search_dropdownSec">
    <span class="text">
        {{#each this.name}}
          {{{this}}}
          {{/each}}
    </span>
    <i class="dropdown icon"></i>
    <div class="menu">
      {{#each this.children}} 
          {{>  Template.dynamic template="search_dropdown_kidsItems" data=this}}
      {{/each}}
    </div>
</template>

<template name="search_dropdown_kidsItems">
    <div class="item" data-id="{{choose this.uuid this.id}}" data-lang="{{this.lang}}" data-child="{{this.haschildren}}">
      {{#if this.children}}
        {{>  Template.dynamic template="search_dropdownSec" data=this}}
      {{else}}
        {{this.name}}
      {{/if}}
    </div>
</template>